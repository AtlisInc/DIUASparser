
# build with buildr
# sign and upload to nexus staging with mvn
# then finally
#   - login to nexus at https://oss.sonatype.org/
#   - click 'Staging Repositories' from left menu
#   - search for 'uasparser'
#   - "Close" repository
#   - "Release" repository

buildr test=no clean package
export VERSION="0.6.1"
cp -a pom.xml target/uasparser-$VERSION.pom
mvn gpg:sign-and-deploy-file -Durl=https://oss.sonatype.org/service/local/staging/deploy/maven2/ -DrepositoryId=sonatype-nexus-staging -DpomFile=target/uasparser-$VERSION.pom -Dfile=target/uasparser-$VERSION.jar
mvn gpg:sign-and-deploy-file -Durl=https://oss.sonatype.org/service/local/staging/deploy/maven2/ -DrepositoryId=sonatype-nexus-staging -DpomFile=target/uasparser-$VERSION.pom -Dfile=target/uasparser-$VERSION-sources.jar -Dclassifier=sources
mvn gpg:sign-and-deploy-file -Durl=https://oss.sonatype.org/service/local/staging/deploy/maven2/ -DrepositoryId=sonatype-nexus-staging -DpomFile=target/uasparser-$VERSION.pom -Dfile=target/uasparser-$VERSION-javadoc.jar -Dclassifier=javadoc
